{% extends "base.html" %}
{% load i18n %}
{% load django_bootstrap5 %}

{% block content %}
<div class="container wrapper flex-grow-1">
<h1 class="my-4">{{ title }}</h1>
<a class="btn btn-primary mb-3" href="{% url 'create task' %}" role="button">{{ button }}</a>

<div class="card mb-3">
    <div class="card-body bg-light">
 <form class="form-inline center" method="get">
            {% bootstrap_form filter.form field_class='ml-2 mr-3' %}

                <input class="btn btn-primary" type="submit" value="{% translate 'Show' context 'Task filter button' %}">

</form>
    </div>
</div>

<table class="table table-striped">
    <thead>
      <tr>
        <th>{% translate 'ID' %}</th>
        <th>{% translate 'Name' %}</th>
        <th>{% translate 'Status' %}</th>
        <th>{% translate 'Author' %}</th>
        <th>{% translate 'Executor' %}</th>
        <th>{% translate 'Created at' %}</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
        {% for task in tasks %}
        <tr>
          <td>{{ task.pk }}</td>
          <td><a href="{% url 'detail task' pk=task.pk %}">{{ task.name }}</a></td>
          <td>{{ task.status }}</td>
          <td>{{ task.author }}</td>
          <td>{% firstof task.executor " " %}</td>
          <td>{{ task.created_at|date:'d.m.Y H:i' }}</td>
          <td>
            <a href="{% url 'update task' pk=task.pk %}">{% translate 'Update' %}</a>
            <br>
            <a href="{% url 'delete task' pk=task.pk %}">{% translate 'Delete' %}</a>
          </td>
        </tr>
        {% endfor %}
    </tbody>
  </table>
{% endblock content %}